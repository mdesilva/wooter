!function(t,e,n){"use strict";function r(t){function e(t,e){return t?i(t)?t.indexOf(e)>=0:t.hasOwnProperty(e):void 0}return["$animate",function(t){return{restrict:"AE",transclude:"element",terminal:!0,require:"^^ngMessages",link:function(n,r,s,o,a){var u,l=r[0],c=s.ngMessage||s.when,h=s.ngMessageExp||s.whenExp,p=function(t){u=t?i(t)?t:t.split(/[\s,]+/):null,o.reRender()};h?(p(n.$eval(h)),n.$watchCollection(h,p)):p(c);var d,f;o.register(l,f={test:function(t){return e(u,t)},attach:function(){d||a(n,function(e){t.enter(e,null,r),d=e,d.on("$destroy",function(){d&&(o.deregister(l),f.detach())})})},detach:function(){if(d){var e=d;d=null,t.leave(e)}}})}}}]}var i=e.isArray,s=e.forEach,o=e.isString,a=e.element;e.module("ngMessages",[]).directive("ngMessages",["$animate",function(t){function e(t,e){return o(e)&&0===e.length||n(t.$eval(e))}function n(t){return o(t)?t.length:!!t}var r="ng-active",i="ng-inactive";return{require:"ngMessages",restrict:"AE",controller:["$element","$scope","$attrs",function(o,a,u){function l(t,e){for(var n=e,r=[];n&&n!==t;){var i=n.$$ngMessageNode;if(i&&i.length)return x[i];n.childNodes.length&&-1==r.indexOf(n)?(r.push(n),n=n.childNodes[n.childNodes.length-1]):n=n.previousSibling||n.parentNode}}function c(t,e,n){var r=x[n];if(f.head){var i=l(t,e);i?(r.next=i.next,i.next=r):(r.next=f.head,f.head=r)}else f.head=r}function h(t,e,n){var r=x[n],i=l(t,e);i?i.next=r.next:f.head=r.next}var p,d,f=this,g=0,x=this.messages={};this.render=function(l){l=l||{},p=!1,d=l;for(var c=e(a,u.ngMessagesMultiple)||e(a,u.multiple),h=[],g={},x=f.head,v=!1,m=0;null!=x;){m++;var y=x.message,w=!1;v||s(l,function(t,e){if(!w&&n(t)&&y.test(e)){if(g[e])return;g[e]=!0,w=!0,y.attach()}}),w?v=!c:h.push(y),x=x.next}s(h,function(t){t.detach()}),h.length!==m?t.setClass(o,r,i):t.setClass(o,i,r)},a.$watchCollection(u.ngMessages||u["for"],f.render),this.reRender=function(){p||(p=!0,a.$evalAsync(function(){p&&d&&f.render(d)}))},this.register=function(t,e){var n=g.toString();x[n]={message:e},c(o[0],t,n),t.$$ngMessageNode=n,g++,f.reRender()},this.deregister=function(t){var e=t.$$ngMessageNode;delete t.$$ngMessageNode,h(o[0],t,e),delete x[e],f.reRender()}}]}}]).directive("ngMessagesInclude",["$templateRequest","$document","$compile",function(t,e,n){return{restrict:"AE",require:"^^ngMessages",link:function(r,i,s){var o=s.ngMessagesInclude||s.src;t(o).then(function(t){n(t)(r,function(t){i.after(t);var n=a(e[0].createComment(" ngMessagesInclude: "+o+" "));i.after(n),i.remove()})})}}}]).directive("ngMessage",r("AE")).directive("ngMessageExp",r("A"))}(window,window.angular);
