!function(e,t,n){"use strict";function r(e){return t.lowercase(e.nodeName||e[0]&&e[0].nodeName)}function a(e,n,r){i.directive(e,["$parse","$swipe",function(a,i){var o=75,c=.3,s=30;return function(u,l,h){function f(e){if(!p)return!1;var t=Math.abs(e.y-p.y),r=(e.x-p.x)*n;return d&&o>t&&r>0&&r>s&&c>t/r}var p,d,g=a(h[e]),m=["touch"];t.isDefined(h.ngSwipeDisableMouse)||m.push("mouse"),i.bind(l,{start:function(e,t){p=e,d=!0},cancel:function(e){d=!1},end:function(e,t){f(e)&&u.$apply(function(){l.triggerHandler(r),g(u,{$event:t})})}},m)}}])}var i=t.module("ngTouch",[]);i.factory("$swipe",[function(){function e(e){var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],r=t.changedTouches&&t.changedTouches[0]||n[0];return{x:r.clientX,y:r.clientY}}function n(e,n){var r=[];return t.forEach(e,function(e){var t=a[e][n];t&&r.push(t)}),r.join(" ")}var r=10,a={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(t,a,i){var o,c,s,u,l=!1;i=i||["mouse","touch"],t.on(n(i,"start"),function(t){s=e(t),l=!0,o=0,c=0,u=s,a.start&&a.start(s,t)});var h=n(i,"cancel");h&&t.on(h,function(e){l=!1,a.cancel&&a.cancel(e)}),t.on(n(i,"move"),function(t){if(l&&s){var n=e(t);if(o+=Math.abs(n.x-u.x),c+=Math.abs(n.y-u.y),u=n,!(r>o&&r>c))return c>o?(l=!1,void(a.cancel&&a.cancel(t))):(t.preventDefault(),void(a.move&&a.move(n,t)))}}),t.on(n(i,"end"),function(t){l&&(l=!1,a.end&&a.end(e(t),t))})}}}]),i.config(["$provide",function(e){e.decorator("ngClickDirective",["$delegate",function(e){return e.shift(),e}])}]),i.directive("ngClick",["$parse","$timeout","$rootElement",function(e,n,a){function i(e,t,n,r){return Math.abs(e-n)<m&&Math.abs(t-r)<m}function o(e,t,n){for(var r=0;r<e.length;r+=2)if(i(e[r],e[r+1],t,n))return e.splice(r,r+2),!0;return!1}function c(e){if(!(Date.now()-l>g)){var t=e.touches&&e.touches.length?e.touches:[e],n=t[0].clientX,a=t[0].clientY;1>n&&1>a||f&&f[0]===n&&f[1]===a||(f&&(f=null),"label"===r(e.target)&&(f=[n,a]),o(h,n,a)||(e.stopPropagation(),e.preventDefault(),e.target&&e.target.blur&&e.target.blur()))}}function s(e){var t=e.touches&&e.touches.length?e.touches:[e],r=t[0].clientX,a=t[0].clientY;h.push(r,a),n(function(){for(var e=0;e<h.length;e+=2)if(h[e]==r&&h[e+1]==a)return void h.splice(e,e+2)},g,!1)}function u(e,t){h||(a[0].addEventListener("click",c,!0),a[0].addEventListener("touchstart",s,!0),h=[]),l=Date.now(),o(h,e,t)}var l,h,f,p=750,d=12,g=2500,m=25,v="ng-click-active";return function(n,r,a){function i(){f=!1,r.removeClass(v)}var o,c,s,l,h=e(a.ngClick),f=!1;r.on("touchstart",function(e){f=!0,o=e.target?e.target:e.srcElement,3==o.nodeType&&(o=o.parentNode),r.addClass(v),c=Date.now();var t=e.originalEvent||e,n=t.touches&&t.touches.length?t.touches:[t],a=n[0];s=a.clientX,l=a.clientY}),r.on("touchcancel",function(e){i()}),r.on("touchend",function(e){var n=Date.now()-c,h=e.originalEvent||e,g=h.changedTouches&&h.changedTouches.length?h.changedTouches:h.touches&&h.touches.length?h.touches:[h],m=g[0],v=m.clientX,$=m.clientY,w=Math.sqrt(Math.pow(v-s,2)+Math.pow($-l,2));f&&p>n&&d>w&&(u(v,$),o&&o.blur(),t.isDefined(a.disabled)&&a.disabled!==!1||r.triggerHandler("click",[e])),i()}),r.onclick=function(e){},r.on("click",function(e,t){n.$apply(function(){h(n,{$event:t||e})})}),r.on("mousedown",function(e){r.addClass(v)}),r.on("mousemove mouseup",function(e){r.removeClass(v)})}}]),a("ngSwipeLeft",-1,"swipeleft"),a("ngSwipeRight",1,"swiperight")}(window,window.angular);
